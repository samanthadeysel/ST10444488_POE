@model ST10444488_POE.Models.Order

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "Create Order";
}

<h2>Create Order</h2>

<form asp-action="Create" method="post">
    <div class="form-group">
        <label>Customer</label>
        <select asp-for="CustomerRowKey" class="form-control" asp-items="@(new SelectList(ViewBag.Customers, "RowKey", "FirstName"))">
            <option value="">-- Select Customer --</option>
        </select>
    </div>
    <div class="form-group">
        <label>Products</label>
        <select asp-for="ProductRowKeys" class="form-control" multiple size="5">
            @foreach (var product in ViewBag.Products)
            {
                <option value="@product.RowKey" selected="@Model.ProductRowKeys?.Contains(product.RowKey)">@product.Name</option>
            }
        </select>
    </div>
    @if (Model.Quantity > 0)
    {
        <div class="form-group">
            <label>Quantity</label>
            <input class="form-control" value="@Model.Quantity" readonly />
        </div>

        <div class="form-group">
            <label>Total Cost</label>
            <input class="form-control" value="R @Model.TotalCost.ToString("F2")" readonly />
        </div>
    }

    <button type="submit" class="btn btn-primary">Calculate</button>
</form>

